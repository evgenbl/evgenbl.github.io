---
layout: post
title:  ImageMagick инструмент для создания GIF-файлов и многого другого
category: ConsoleUtilities
---

**ImageMagick** - набор консольных утилит для обработки изображений.

- apt-get install ImageMagick


**Команда animate** — универсальный инструмент для создания простых анимаций, анимированных GIF-файлов и многого другого. 

**Программа animate входит в набор инструментов ImageMagick** 

#### Воспроизвести видеофрагмент, составленный из кадров
  
#### Отобразить последовательность изображений в виде анимации: 

- $ animate frame1.jpg frame2.png frame3.jpg 
  
#### Контроль задержки (в миллисекундах) между кадрами: 

- $ animate -delay 100 frame1.jpg frame2.png frame3.jpg 
  
### Зациклить анимацию определенное количество раз (используйте 0 для бесконечного цикла): 

- $ animate -loop 3 frame1.jpg frame2.png frame3.jpg

#### Команды

#### Изменить размер изображения

- convert img.jpg -resize 100×150 img1.jpg

#### Сжать изображение по ширине до 100px

При этом высота будет сжата пропорционально.

- convert img.jpg -resize 100 img1.jpg

#### Сжать изображение по высоте до 150px

Аналогично предыдущему.

- convert img.jpg -resize ×150 img1.jpg

#### Изменение размера изображения без сохранения соотношения сторон

    -resize < MMM x NNN! >

- convert img.jpg -resize 100×150! img1.jpg

#### Изменение размера изображения в процентах

>-resize < MMM% > — изменение размера изображения в %(процентах)

- convert img.jpg -resize 20% img1.jpg

#### Поворот изображения

Для того что бы повернуть изображение существует параметр -rotate, где значение указывается в градусах:

- convert img.jpg -rotate 20 img1.jpg

#### Конвертирование в другой формат

- mogrify -format tif *.png

Переведет все *.png-изображения в *tif

#### Качество *.jpg

- convert img.jpg -quality 75 img2.jpg

#### Пакетное конвертирование

Предположим, вам нужно сконвертировать много изображений *.jpg и *.png в каталоге с определенными параметрами.

Для этого создадим в текстовом редакторе следующий скрипт:
````
#!/bin/bash
mkdir conv
for f in *.jpg; do
    convert "$f" -rotate 20 conv/"${f%.*}".png
done
````
В строке, где выделено жирным, вставьте нужные вам параметры.

Сохраним его как conv.sh и сделаем исполняемым:

- chmod +x conv.sh

Переходим в каталог с файлами и выполняем данный скрипт.

